import "names.pkl"

abstract class BaseCommand {
    working_directory: String?
    env: Mapping<String, String>?

    function validate(n: names.Names): String? = null
}

open class PrebuiltCommand extends BaseCommand {
    prebuilt: String
    params: Mapping<String, Any>?
}

class ShellCommand extends BaseCommand {
    command: String
}

class OperationCommand extends BaseCommand {
    operation: String
}

typealias Command = PrebuiltCommand|ShellCommand|OperationCommand