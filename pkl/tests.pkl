import "constructs/workflow.pkl"

import "primitives/command.pkl"
import "primitives/runtime.pkl"
import "primitives/names.pkl"

class InvalidCommand extends command.Command {
    validate = (n: names.Names) -> "invalid"
}

class ValidCommand extends command.Command {
    validate = (n: names.Names) -> null
}

class RequireBuildCommand extends command.Command {
    name: String
    validate = (n: names.Names) -> if (n.Builds.contains(name)) null else "invalid"
}

class ValidRuntime extends runtime.Runtime {
    name = "valid"
}

function createValidWorkflow() = new workflow.Workflow {
    name = "valid"
}
